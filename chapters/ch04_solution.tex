%!TEX root = ../DevaramaniS-[RnD-MT]Report.tex

\chapter{Extending the Vereshchagin hybrid dynamic solver to mobile robots}

As discussed in State of the art, there are various software frameworks and dynamic solvers employed specifically in manipulators to satisfy the constraints imposed by task requirements. These approaches considers the dynamic properties of the system and compute the desired motion. In case of mobile robots, there are approaches introduced to compute the control commands by considering the dynamics of the robot. However, there are no task specification frameworks or solvers that would provide a better procedure to handle instantaneous task specifications. Therefore, the main objective of the project is to 
extend and apply the \textit{Popov-Vereshchagin hybrid dynamic solver} to mobile robots. 


The main feature of the solver is that, given the task requirements, it calculates the instantaneous joint accelerations and control torques of a single end-effector. However, this can be extended to compute the desired motion of multiple end-effectors~\cite{shakhimardanov2015composable}. An autonomous mobile robot can be modeled as kinematic tree structure with wheels as end-effectors. Following sections describe extensions to tree structure and how the extended algorihtm can be applied to mobile robot.


\section{Extension to kinematic trees}

A theoretical description on extension of the solver to multiple end-effectors (kinematic tree structure), is presented by author Azamat Shakhimardanov in his dissertation~\cite{shakhimardanov2015composable}. The  conceptual and algorithmic explanation of this extension in each of the computational sweeps is presented below.

\subsection{Initial outward sweep}
The computations in outward sweep remains unchanged except the way of recursion. For a simple serial chain, the outward sweep is a single path from base to end-effector. This remains the same for kinematic tree structure as well, but the recursion must traverse to all the respective end-effectors~\cite{shakhimardanov2015composable}. 

In the Constrained hybrid dynamics algorithm (\ref{Algorithm1}), the initial outward sweep loops from $i=0$ (base) to $N-1$ (end-effector). The recursion must be changed to traverse from base to all the tree elements.

\subsection{Inward sweep}
The main modifications in inward sweep includes~\cite{shakhimardanov2015composable},
\begin{itemize}
	\item The apparent inertias ($H^a$) and forces ($F^a$) of parent segment must combine all the articulated inertias and forces computed by the child segments.
	\item The constraint force matrix ($A$), must combine the constraints applied at each of the end-effectors. Hence, the matrix will be expanded column-wise.
	\item The acceleration energy ($b_N$) is accumulated corresponding to the constraints arising from each of the end-effectors. 
	\item The acceleration constraint coupling matrix ($\mathcal{L}$) is extended to inc
\end{itemize}

\subsection{Resolving constraints at the base}


\subsection{Final outward sweep}

The main aim of the project is to extend the \textit{Popov-Vereshchagin hybrid dynamic solver} to mobile robots. 

\section{Mobile Robots as Kinematic tree structure}

\section{Extended algorithm}{.......}


\section{Implementation details}{........}

\begin{table}[h]
	
	\renewcommand{\arraystretch}{2.5}
	\resizebox{\textwidth}{!}{%
		\begin{tabular}{| l | l | l | l | l |}
			\hline
			\multicolumn{2}{| M{7.5cm}|}{\textbf{Inputs}}    & \multicolumn{3}{M{15cm}|}{\textbf{Outputs}} \\ \hline
			
			\textit{\textbf{External force ($F_{ext}$)}} & \textit{\textbf{Joint Torques($\tau$)}} & \textit{\textbf{Joint accelerations ($\Ddot{q}$)}} & \textit{\textbf{Root acceleration}} & \textit{\textbf{Control torques ($\tau_{control}$)}} \\ \hline
			
			\begin{tabular}[c]{@{}l@{}}$\gamma = 10$ \\ $[0, 0, 0, 0,  0, 10]$ \end{tabular}   &  $[0, 0, 0, 0, 0, 0, 0, 0]$ &  \begin{tabular}[c]{@{}l@{}} $[-0.651743,   -1.36504, -3.97664,  -1.36552,$ \\ $-3.97664, -1.36552, -0.651743, -1.36504]$\end{tabular}   & \begin{tabular}[c]{@{}l@{}} $\gamma = 1.4962 $ \\  $x = -0.0368095$ \end{tabular} & 	\begin{tabular}[c]{@{}l@{}} $[0.303226, -0, -0.126057, -0,$ \\$ -0.126057, -0, 0.303226, 0]$ \end{tabular} \\ \hline
			
			\begin{tabular}[c]{@{}l@{}}$x = 50$ \\ $[50, 0, 0, 0,  0, 0]$ \end{tabular}   &  $[0, 0, 0, 0, 0, 0, 0, 0]$ &  \begin{tabular}[c]{@{}l@{}} $[3.49264, 0.168407, 3.90164    0.168467,$ \\ $3.90164, 0.168467, 3.49264, 0.168407]$\end{tabular}   & \begin{tabular}[c]{@{}l@{}} $\gamma = -0.184047 $ \\  $x = 0.158089$ \end{tabular} & 	\begin{tabular}[c]{@{}l@{}} $[0.243069, -0, 0.238214, -0 ,$ \\ $0.238214, -0, 0.243069, -0]$ \end{tabular} \\ \hline
			
			$[0, 0, 0, 0,  0, 0]$  &  \begin{tabular}[c]{@{}l@{}} $\tau_{d_1} = 1.0$ \\ $\tau_{d_2} = 1.0$ \\ $\tau_{d_3} = 1.0$ \\ $\tau_{d_4} = 1.0$  \end{tabular} &  \begin{tabular}[c]{@{}l@{}} $[ 0.329141, 34.0727, 0.549795, 34.0727,$ \\  $0.757357, 34.1083, 0.12158, 34.1082]$\end{tabular}   & \begin{tabular}[c]{@{}l@{}}  $x = 0.0111047$ \\ $y = 0.00467013$ \\ $\gamma = -0.192697$ \end{tabular} & 	\begin{tabular}[c]{@{}l@{}} $[0.0695287, -0, -0.0665266, -0,$ \\ $-0.0539123, -0, 0.0463929, -0]$ \end{tabular} \\ \hline
			
			
			
		\end{tabular}
	}\renewcommand{\arraystretch}{3}
	\caption{Experimental analysis}
	\label{Decomposition Techniques}
	
\end{table}
